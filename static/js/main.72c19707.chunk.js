(window["webpackJsonpbook-finder"]=window["webpackJsonpbook-finder"]||[]).push([[0],{130:function(e,a,t){e.exports=t(257)},254:function(e,a,t){},255:function(e,a,t){},257:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),r=t(31),c=t.n(r),l=t(20),s=t(21),i=t(23),m=t(22),h=t(24),d=t(264),u=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=Object(i.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(o)))).state={text:""},t.handleChange=function(e){var a=e.target.value;t.setState({text:a})},t.handleSubmit=function(e){e.preventDefault(),t.props.handleSearch(t.state.text)},t}return Object(h.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"col-md-6 mt-2 mx-auto"},o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("div",{className:"form-group row"},o.a.createElement(d.a,{size:"huge",action:{icon:"search"},placeholder:"Enter the book info.",onChange:this.handleChange,style:{width:"100%"}}))))}}]),a}(n.Component),p=(t(254),t(265)),b=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=Object(i.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(o)))).state={loading:!0,dimensions:{},failed:!1},t.checkDimensions=function(e){var a=e.target,n=a.offsetHeight+a.offsetHeight<5;t.setState({loading:!1,dimensions:{height:a.offsetHeight,width:a.offsetWidth},failed:n})},t}return Object(h.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e,a="";if(this.props.book.isbn)a="isbn/"+this.props.book.isbn[0];else if(this.props.book.oclc){a="oclc/"+this.props.book.oclc}else a="isbn/000000";return e="http://covers.openlibrary.org/b/".concat(a,"-M.jpg"),o.a.createElement(o.a.Fragment,null,this.state.loading&&o.a.createElement(p.a,{active:!0,inline:!0}),this.state.failed?o.a.createElement("div",{className:"alert alert-danger",role:"alert"},"Cover not found!"):o.a.createElement("img",{onLoad:this.checkDimensions,onError:function(){return alert("Error loading image!")},src:e,alt:"Cover of ".concat(this.props.book.title_suggest)}))}}]),a}(n.Component),g=t(266),f=t(258),v=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=Object(i.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(o)))).state={expanded:!1},t.handleClick=function(){t.setState({expanded:!0})},t}return Object(h.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return o.a.createElement(g.a.Item,{key:"book-".concat(this.props.bookId)},o.a.createElement(g.a.Content,null,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-9"},o.a.createElement(g.a.Header,null,this.props.book.title_suggest),this.props.book.author_name),o.a.createElement("div",{className:"col-md-3 pl ml-auto"},o.a.createElement(f.a,{onClick:this.handleClick,type:"button","data-toggle":"collapse","data-target":"#collapse-book-".concat(this.props.bookId),"aria-expanded":"false","aria-controls":"collapse-book-".concat(this.props.bookId),content:"Find cover",className:"btn-cover"}))),o.a.createElement("div",{className:"collapse",id:"collapse-book-".concat(this.props.bookId)},o.a.createElement("div",{className:"book-cover text-center"},this.state.expanded&&o.a.createElement(b,{book:this.props.book})))))}}]),a}(n.Component),E=t(268),k=t(269),w=t(27),O=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=Object(i.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(o)))).state={numOfBooksShowing:4},t.showMore=function(){t.setState(function(e){return{numOfBooksShowing:e.numOfBooksShowing+4}})},t}return Object(h.a)(a,e),Object(s.a)(a,[{key:"componentDidMount",value:function(){this.setState({numOfBooksShowing:4})}},{key:"render",value:function(){var e=this.props.data&&this.props.data.docs.slice(0,this.state.numOfBooksShowing).map(function(e,a){return o.a.createElement(v,{bookId:a,book:e})}),a=!!e.length,t=a?"book":"warning circle",n=a?"badge-success":"badge-danger";return o.a.createElement("div",{className:"search-results"},o.a.createElement(E.a,{placeholder:!0},o.a.createElement(k.a,{icon:!0},o.a.createElement(w.a,{name:t}),"Found",o.a.createElement("span",{className:"badge badge-pill ".concat(n," mx-1 my-auto")},this.props.data.numFound),'results for "',o.a.createElement("em",null,this.props.searchText),'".'),o.a.createElement(g.a,{celled:!0,size:"big"},e),this.props.data&&this.props.data.numFound>this.state.numOfBooksShowing&&o.a.createElement("button",{className:"btn btn-warning mt-3",onClick:this.showMore},"Show more")))}}]),a}(n.Component),j=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=Object(i.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(o)))).state={data:"",loading:!1,searchText:""},t.handleSearch=function(e){var a=e.split(" ").join("+");t.setState({data:"",loading:!0}),fetch("https://openlibrary.org/search.json?q=".concat(a)).then(function(e){return e.json()}).then(function(a){return t.setState({loading:!1,searchText:e,data:a})})},t}return Object(h.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"jumbotron p-3 bg-light"},o.a.createElement(u,{handleSearch:this.handleSearch})),!this.state.data&&!this.state.loading&&o.a.createElement("div",null,o.a.createElement(k.a,{as:"h1",icon:!0,textAlign:"center"},o.a.createElement(w.a,{name:"book",circular:!0}),o.a.createElement(k.a.Content,null,"Welcome to BookFinder!")),o.a.createElement("p",null,"Enter keywords for your book (title, author, isbn, or else), then click the button.")),this.state.loading&&o.a.createElement(p.a,{size:"massive",active:!0,inline:!0}),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-7 m-auto"},this.state.data&&o.a.createElement(O,{data:this.state.data,searchText:this.state.searchText}))))}}]),a}(n.Component);function N(){return o.a.createElement("header",null,o.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark fixed-top"},o.a.createElement("a",{className:"navbar-brand",href:"./"},o.a.createElement("span",{role:"img","aria-label":"books"},"\ud83d\udcda")," ","Book Finder"),o.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#headerNavbarToggler","aria-controls":"headerNavbarToggler","aria-expanded":"false","aria-label":"Toggle navigation"},o.a.createElement("span",{className:"navbar-toggler-icon"})),o.a.createElement("div",{className:"collapse navbar-collapse",id:"headerNavbarToggler"},o.a.createElement("ul",{className:"navbar-nav mt-2 mt-lg-0 ml-auto"},o.a.createElement("li",{className:"nav-item"},o.a.createElement("a",{className:"nav-link",href:"./"},"Home")),o.a.createElement("li",{className:"nav-item"},o.a.createElement("a",{className:"nav-link",href:"#"},"Go Top"))))))}t(255);var y=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(N,null),o.a.createElement("div",{className:"mt-5 pt-2"},o.a.createElement(j,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(256);c.a.render(o.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[130,1,2]]]);
//# sourceMappingURL=main.72c19707.chunk.js.map